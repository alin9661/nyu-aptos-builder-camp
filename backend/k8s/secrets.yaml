apiVersion: v1
kind: Secret
metadata:
  name: nyu-aptos-secrets
  namespace: nyu-aptos
  labels:
    app: nyu-aptos-backend
type: Opaque
# NOTE: All values must be base64 encoded
# To encode: echo -n 'your-value' | base64
# To decode: echo 'encoded-value' | base64 -d
data:
  # Database Credentials
  # Default values below - MUST be changed in production
  db_user: cG9zdGdyZXM=  # postgres
  db_password: Y2hhbmdlLW1lLWluLXByb2R1Y3Rpb24=  # change-me-in-production

  # API Security
  api_key: Y2hhbmdlLW1lLWluLXByb2R1Y3Rpb24=  # change-me-in-production
  jwt_secret: Y2hhbmdlLW1lLWluLXByb2R1Y3Rpb24tc2VjcmV0LWtleQ==  # change-me-in-production-secret-key

  # IPFS Credentials (if using Infura/Pinata)
  ipfs_project_id: ""
  ipfs_project_secret: ""

  # Redis Password (if using authentication)
  redis_password: ""

  # Optional: Sentry DSN for error tracking
  sentry_dsn: ""

---
# External Secrets Operator example (if using)
# Uncomment and configure if using external secret management like AWS Secrets Manager, HashiCorp Vault, etc.
#
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: nyu-aptos-external-secrets
#   namespace: nyu-aptos
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: aws-secrets-manager
#     kind: SecretStore
#   target:
#     name: nyu-aptos-secrets
#     creationPolicy: Owner
#   data:
#   - secretKey: db_password
#     remoteRef:
#       key: nyu-aptos/database
#       property: password
#   - secretKey: api_key
#     remoteRef:
#       key: nyu-aptos/api
#       property: key
#   - secretKey: jwt_secret
#     remoteRef:
#       key: nyu-aptos/jwt
#       property: secret

---
# Sealed Secrets example (if using bitnami/sealed-secrets)
# This allows you to safely commit encrypted secrets to git
#
# To create a sealed secret:
# 1. Create a regular secret YAML file
# 2. Seal it: kubeseal -f secret.yaml -w sealed-secret.yaml
# 3. Apply the sealed secret: kubectl apply -f sealed-secret.yaml
# 4. The controller will create the actual Secret in the cluster
#
# Example:
# apiVersion: bitnami.com/v1alpha1
# kind: SealedSecret
# metadata:
#   name: nyu-aptos-sealed-secrets
#   namespace: nyu-aptos
# spec:
#   encryptedData:
#     db_password: AgBh3... (encrypted data)
#     api_key: AgCxy... (encrypted data)
#   template:
#     metadata:
#       name: nyu-aptos-secrets
#       namespace: nyu-aptos
#     type: Opaque
